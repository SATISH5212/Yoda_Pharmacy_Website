import{r as $,j as w,L as Jt}from"./main-a__i0QSU.js";import{u as Wt,B as Xt}from"./appConfig-Bmk701zo.js";import{E as Zt}from"./eye-BHSa4w2B.js";import{u as Qt,b as Yt,l as ze,d as ke,e as ft,f as en,g as tn,M as nn,T as rn,F as on,E as sn,P as ln,p as an,a as un,c as cn}from"./EditControl-C7-4fcAb.js";import{u as dn,y as gn}from"./index-F4ZMcLMJ.js";import"./createLucideIcon-CkD3SDnu.js";function fn(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}function pn(){return Qt().map}function mn(e){const t=pn();return $.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const hn=Yt(function({center:t,children:n,...r},o){const i=new ze.CircleMarker(t,r);return ke(i,ft(o,{overlayContainer:i}))},fn),We=en(function({position:t,...n},r){const o=new ze.Marker(t,n);return ke(o,ft(r,{overlayContainer:o}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Xe=tn(function(t,n){const r=new ze.Popup(t,n.overlayContainer);return ke(r,n)},function(t,n,{position:r},o){$.useEffect(function(){const{instance:s}=t;function l(c){c.popup===s&&(s.update(),o(!0))}function a(c){c.popup===s&&o(!1)}return n.map.on({popupopen:l,popupclose:a}),n.overlayContainer==null?(r!=null&&s.setLatLng(r),s.openOn(n.map)):n.overlayContainer.bindPopup(s),function(){var u;n.map.off({popupopen:l,popupclose:a}),(u=n.overlayContainer)==null||u.unbindPopup(),n.map.removeLayer(s)}},[t,n,o,r])});/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function z(e,t){return typeof e=="function"?e(t):e}function I(e,t){return n=>{t.setState(r=>({...r,[e]:z(n,r[e])}))}}function de(e){return e instanceof Function}function Sn(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function wn(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const s=t(i);s!=null&&s.length&&r(s)})};return r(e),n}function R(e,t,n){let r=[],o;return i=>{let s;n.key&&n.debug&&(s=Date.now());const l=e(i);if(!(l.length!==r.length||l.some((u,f)=>r[f]!==u)))return o;r=l;let c;if(n.key&&n.debug&&(c=Date.now()),o=t(...l),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-c)*100)/100,h=f/16,p=(g,m)=>{for(g=String(g);g.length<m;)g=" "+g;return g};console.info(`%câ± ${p(f,5)} /${p(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function y(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function Cn(e,t,n,r){const o=()=>{var s;return(s=i.getValue())!=null?s:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:R(()=>[e,n,t,i],(s,l,a,c)=>({table:s,column:l,row:a,cell:c,getValue:c.getValue,renderValue:c.renderValue}),y(e.options,"debugCells"))};return e._features.forEach(s=>{s.createCell==null||s.createCell(i,n,t,e)},{}),i}function Rn(e,t,n,r){var o,i;const l={...e._getDefaultColumnDef(),...t},a=l.accessorKey;let c=(o=(i=l.id)!=null?i:a?typeof String.prototype.replaceAll=="function"?a.replaceAll(".","_"):a.replace(/\./g,"_"):void 0)!=null?o:typeof l.header=="string"?l.header:void 0,u;if(l.accessorFn?u=l.accessorFn:a&&(a.includes(".")?u=h=>{let p=h;for(const m of a.split(".")){var g;p=(g=p)==null?void 0:g[m]}return p}:u=h=>h[l.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:R(()=>[!0],()=>{var h;return[f,...(h=f.columns)==null?void 0:h.flatMap(p=>p.getFlatColumns())]},y(e.options,"debugColumns")),getLeafColumns:R(()=>[e._getOrderColumnsFn()],h=>{var p;if((p=f.columns)!=null&&p.length){let g=f.columns.flatMap(m=>m.getLeafColumns());return h(g)}return[f]},y(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(f,e);return f}const A="debugHeaders";function Ze(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],l=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(l),s.push(a)};return l(i),s},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(i,e)}),i}const yn={createTable:e=>{e.getHeaderGroups=R(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,s;const l=(i=r==null?void 0:r.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?i:[],a=(s=o==null?void 0:o.map(f=>n.find(h=>h.id===f)).filter(Boolean))!=null?s:[],c=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(o!=null&&o.includes(f.id)));return re(t,[...l,...c,...a],e)},y(e.options,A)),e.getCenterHeaderGroups=R(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),re(t,n,e,"center")),y(e.options,A)),e.getLeftHeaderGroups=R(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(l=>l.id===s)).filter(Boolean))!=null?o:[];return re(t,i,e,"left")},y(e.options,A)),e.getRightHeaderGroups=R(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(s=>n.find(l=>l.id===s)).filter(Boolean))!=null?o:[];return re(t,i,e,"right")},y(e.options,A)),e.getFooterGroups=R(()=>[e.getHeaderGroups()],t=>[...t].reverse(),y(e.options,A)),e.getLeftFooterGroups=R(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),y(e.options,A)),e.getCenterFooterGroups=R(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),y(e.options,A)),e.getRightFooterGroups=R(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),y(e.options,A)),e.getFlatHeaders=R(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),y(e.options,A)),e.getLeftFlatHeaders=R(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),y(e.options,A)),e.getCenterFlatHeaders=R(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),y(e.options,A)),e.getRightFlatHeaders=R(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),y(e.options,A)),e.getCenterLeafHeaders=R(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),y(e.options,A)),e.getLeftLeafHeaders=R(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),y(e.options,A)),e.getRightLeafHeaders=R(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),y(e.options,A)),e.getLeafHeaders=R(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,s,l,a,c;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(s=(l=n[0])==null?void 0:l.headers)!=null?s:[],...(a=(c=r[0])==null?void 0:c.headers)!=null?a:[]].map(u=>u.getLeafHeaders()).flat()},y(e.options,A))}};function re(e,t,n,r){var o,i;let s=0;const l=function(h,p){p===void 0&&(p=1),s=Math.max(s,p),h.filter(g=>g.getIsVisible()).forEach(g=>{var m;(m=g.columns)!=null&&m.length&&l(g.columns,p+1)},0)};l(e);let a=[];const c=(h,p)=>{const g={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},m=[];h.forEach(S=>{const C=[...m].reverse()[0],_=S.column.depth===g.depth;let x,P=!1;if(_&&S.column.parent?x=S.column.parent:(x=S.column,P=!0),C&&(C==null?void 0:C.column)===x)C.subHeaders.push(S);else{const F=Ze(n,x,{id:[r,p,x.id,S==null?void 0:S.id].filter(Boolean).join("_"),isPlaceholder:P,placeholderId:P?`${m.filter(V=>V.column===x).length}`:void 0,depth:p,index:m.length});F.subHeaders.push(S),m.push(F)}g.headers.push(S),S.headerGroup=g}),a.push(g),p>0&&c(m,p-1)},u=t.map((h,p)=>Ze(n,h,{depth:s,index:p}));c(u,s-1),a.reverse();const f=h=>h.filter(g=>g.column.getIsVisible()).map(g=>{let m=0,S=0,C=[0];g.subHeaders&&g.subHeaders.length?(C=[],f(g.subHeaders).forEach(x=>{let{colSpan:P,rowSpan:F}=x;m+=P,C.push(F)})):m=1;const _=Math.min(...C);return S=S+_,g.colSpan=m,g.rowSpan=S,{colSpan:m,rowSpan:S}});return f((o=(i=a[0])==null?void 0:i.headers)!=null?o:[]),a}const xn=(e,t,n,r,o,i,s)=>{let l={id:t,index:r,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(l._valuesCache.hasOwnProperty(a))return l._valuesCache[a];const c=e.getColumn(a);if(c!=null&&c.accessorFn)return l._valuesCache[a]=c.accessorFn(l.original,r),l._valuesCache[a]},getUniqueValues:a=>{if(l._uniqueValuesCache.hasOwnProperty(a))return l._uniqueValuesCache[a];const c=e.getColumn(a);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(l._uniqueValuesCache[a]=c.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[a]):(l._uniqueValuesCache[a]=[l.getValue(a)],l._uniqueValuesCache[a])},renderValue:a=>{var c;return(c=l.getValue(a))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>wn(l.subRows,a=>a.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let a=[],c=l;for(;;){const u=c.getParentRow();if(!u)break;a.push(u),c=u}return a.reverse()},getAllCells:R(()=>[e.getAllLeafColumns()],a=>a.map(c=>Cn(e,l,c,c.id)),y(e.options,"debugRows")),_getAllCellsByColumnId:R(()=>[l.getAllCells()],a=>a.reduce((c,u)=>(c[u.column.id]=u,c),{}),y(e.options,"debugRows"))};for(let a=0;a<e._features.length;a++){const c=e._features[a];c==null||c.createRow==null||c.createRow(l,e)}return l},_n={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},pt=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};pt.autoRemove=e=>D(e);const mt=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};mt.autoRemove=e=>D(e);const ht=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};ht.autoRemove=e=>D(e);const St=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};St.autoRemove=e=>D(e);const wt=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});wt.autoRemove=e=>D(e)||!(e!=null&&e.length);const Ct=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Ct.autoRemove=e=>D(e)||!(e!=null&&e.length);const Rt=(e,t,n)=>e.getValue(t)===n;Rt.autoRemove=e=>D(e);const yt=(e,t,n)=>e.getValue(t)==n;yt.autoRemove=e=>D(e);const Be=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};Be.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(o)?1/0:o;if(i>s){const l=i;i=s,s=l}return[i,s]};Be.autoRemove=e=>D(e)||D(e[0])&&D(e[1]);const H={includesString:pt,includesStringSensitive:mt,equalsString:ht,arrIncludes:St,arrIncludesAll:wt,arrIncludesSome:Ct,equals:Rt,weakEquals:yt,inNumberRange:Be};function D(e){return e==null||e===""}const vn={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:I("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?H.includesString:typeof r=="number"?H.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?H.equals:Array.isArray(r)?H.arrIncludes:H.weakEquals},e.getFilterFn=()=>{var n,r;return de(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:H[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(u=>u.id===e.id),s=z(n,i?i.value:void 0);if(Qe(o,s,e)){var l;return(l=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?l:[]}const a={id:e.id,value:s};if(i){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?a:u))!=null?c:[]}return r!=null&&r.length?[...r,a]:[a]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=z(t,o))==null?void 0:i.filter(s=>{const l=n.find(a=>a.id===s.id);if(l){const a=l.getFilterFn();if(Qe(a,s.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Qe(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Fn=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),En=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},Pn=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},An=(e,t,n)=>{let r,o;return n.forEach(i=>{const s=i.getValue(e);s!=null&&(r===void 0?s>=s&&(r=o=s):(r>s&&(r=s),o<s&&(o=s)))}),[r,o]},$n=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},Mn=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Sn(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,s)=>i-s);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},On=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),bn=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Vn=(e,t)=>t.length,Re={sum:Fn,min:En,max:Pn,extent:An,mean:$n,median:Mn,unique:On,uniqueCount:bn,count:Vn},In={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:I("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Re.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Re.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return de(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Re[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Tn(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(s=>s.id===i)).filter(Boolean),...r]}const Dn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:I("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=R(n=>[Q(t,n)],n=>n.findIndex(r=>r.id===e.id),y(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Q(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Q(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=R(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const s=[...t],l=[...o];for(;l.length&&s.length;){const a=s.shift(),c=l.findIndex(u=>u.id===a);c>-1&&i.push(l.splice(c,1)[0])}i=[...i,...l]}return Tn(i,n,r)},y(e.options,"debugTable"))}},ye=()=>({left:[],right:[]}),Ln={getInitialState:e=>({columnPinning:ye(),...e}),getDefaultOptions:e=>({onColumnPinningChange:I("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,s;if(n==="right"){var l,a;return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((a=o==null?void 0:o.right)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var c,u;return{left:[...((c=o==null?void 0:o.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((u=o==null?void 0:o.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,s;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),s=n.some(l=>o==null?void 0:o.includes(l));return i?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=R(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(s=>!i.includes(s.column.id))},y(t.options,"debugRows")),e.getLeftVisibleCells=R(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),y(t.options,"debugRows")),e.getRightVisibleCells=R(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(s=>s.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),y(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?ye():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:ye())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=R(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),y(e.options,"debugColumns")),e.getRightLeafColumns=R(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),y(e.options,"debugColumns")),e.getCenterLeafColumns=R(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},y(e.options,"debugColumns"))}};function Nn(e){return e||(typeof document<"u"?document:null)}const oe={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},xe=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),jn={getDefaultColumnDef:()=>oe,getInitialState:e=>({columnSizing:{},columnSizingInfo:xe(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:I("columnSizing",e),onColumnSizingInfoChange:I("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:oe.minSize,(r=i??e.columnDef.size)!=null?r:oe.size),(o=e.columnDef.maxSize)!=null?o:oe.maxSize)},e.getStart=R(n=>[n,Q(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),y(t.options,"debugColumns")),e.getAfter=R(n=>[n,Q(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),y(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),_e(i)&&i.touches&&i.touches.length>1))return;const s=e.getSize(),l=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[r.id,r.getSize()]],a=_e(i)?Math.round(i.touches[0].clientX):i.clientX,c={},u=(C,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(x=>{var P,F;const V=t.options.columnResizeDirection==="rtl"?-1:1,T=(_-((P=x==null?void 0:x.startOffset)!=null?P:0))*V,j=Math.max(T/((F=x==null?void 0:x.startSize)!=null?F:0),-.999999);return x.columnSizingStart.forEach(q=>{let[Ce,ne]=q;c[Ce]=Math.round(Math.max(ne+ne*j,0)*100)/100}),{...x,deltaOffset:T,deltaPercentage:j}}),(t.options.columnResizeMode==="onChange"||C==="end")&&t.setColumnSizing(x=>({...x,...c})))},f=C=>u("move",C),h=C=>{u("end",C),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Nn(n),g={moveHandler:C=>f(C.clientX),upHandler:C=>{p==null||p.removeEventListener("mousemove",g.moveHandler),p==null||p.removeEventListener("mouseup",g.upHandler),h(C.clientX)}},m={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),f(C.touches[0].clientX),!1),upHandler:C=>{var _;p==null||p.removeEventListener("touchmove",m.moveHandler),p==null||p.removeEventListener("touchend",m.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),h((_=C.touches[0])==null?void 0:_.clientX)}},S=Hn()?{passive:!1}:!1;_e(i)?(p==null||p.addEventListener("touchmove",m.moveHandler,S),p==null||p.addEventListener("touchend",m.upHandler,S)):(p==null||p.addEventListener("mousemove",g.moveHandler,S),p==null||p.addEventListener("mouseup",g.upHandler,S)),t.setColumnSizingInfo(C=>({...C,startOffset:a,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?xe():(n=e.initialState.columnSizingInfo)!=null?n:xe())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let ie=null;function Hn(){if(typeof ie=="boolean")return ie;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return ie=e,ie}function _e(e){return e.type==="touchstart"}const zn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:I("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=R(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),y(t.options,"debugRows")),e.getVisibleCells=R(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],y(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>R(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),y(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Q(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const kn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Bn={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:I("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>H.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return de(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:H[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Gn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:I("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const s=i.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{s[l]=!0}):s=r,n=(o=n)!=null?o:!i,!i&&n)return{...s,[e.id]:!0};if(i&&!n){const{[e.id]:l,...a}=s;return a}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Me=0,Oe=10,ve=()=>({pageIndex:Me,pageSize:Oe}),Un={getInitialState:e=>({...e,pagination:{...ve(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:I("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>z(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?ve():(o=e.initialState.pagination)!=null?o:ve())},e.setPageIndex=r=>{e.setPagination(o=>{let i=z(r,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,s)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?Me:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Me)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?Oe:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Oe)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,z(r,o.pageSize)),s=o.pageSize*o.pageIndex,l=Math.floor(s/i);return{...o,pageIndex:l,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let s=z(r,(i=e.options.pageCount)!=null?i:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),e.getPageOptions=R(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,s)=>s)),o},y(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Fe=()=>({top:[],bottom:[]}),qn={getInitialState:e=>({rowPinning:Fe(),...e}),getDefaultOptions:e=>({onRowPinningChange:I("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(a=>{let{id:c}=a;return c}):[],s=o?e.getParentRows().map(a=>{let{id:c}=a;return c}):[],l=new Set([...s,e.id,...i]);t.setRowPinning(a=>{var c,u;if(n==="bottom"){var f,h;return{top:((f=a==null?void 0:a.top)!=null?f:[]).filter(m=>!(l!=null&&l.has(m))),bottom:[...((h=a==null?void 0:a.bottom)!=null?h:[]).filter(m=>!(l!=null&&l.has(m))),...Array.from(l)]}}if(n==="top"){var p,g;return{top:[...((p=a==null?void 0:a.top)!=null?p:[]).filter(m=>!(l!=null&&l.has(m))),...Array.from(l)],bottom:((g=a==null?void 0:a.bottom)!=null?g:[]).filter(m=>!(l!=null&&l.has(m)))}}return{top:((c=a==null?void 0:a.top)!=null?c:[]).filter(m=>!(l!=null&&l.has(m))),bottom:((u=a==null?void 0:a.bottom)!=null?u:[]).filter(m=>!(l!=null&&l.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),s=n.some(l=>o==null?void 0:o.includes(l));return i?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(s=>{let{id:l}=s;return l});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Fe():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Fe())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(s=>{const l=e.getRow(s,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(s=>t.find(l=>l.id===s))).filter(Boolean).map(s=>({...s,position:r}))},e.getTopRows=R(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),y(e.options,"debugRows")),e.getBottomRows=R(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),y(e.options,"debugRows")),e.getCenterRows=R(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},y(e.options,"debugRows"))}},Kn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:I("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{be(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=R(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Ee(e,n):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getFilteredSelectedRowModel=R(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Ee(e,n):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getGroupedSelectedRowModel=R(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Ee(e,n):{rows:[],flatRows:[],rowsById:{}},y(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var s;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const l={...i};return be(l,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ge(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Ve(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Ve(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},be=(e,t,n,r,o)=>{var i;const s=o.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=s.subRows)!=null&&i.length&&s.getCanSelectSubRows()&&s.subRows.forEach(l=>be(e,l.id,n,r,o))};function Ee(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(s,l){return s.map(a=>{var c;const u=Ge(a,n);if(u&&(r.push(a),o[a.id]=a),(c=a.subRows)!=null&&c.length&&(a={...a,subRows:i(a.subRows)}),u)return a}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function Ge(e,t){var n;return(n=t[e.id])!=null?n:!1}function Ve(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(s=>{if(!(i&&!o)&&(s.getCanSelect()&&(Ge(s,t)?i=!0:o=!1),s.subRows&&s.subRows.length)){const l=Ve(s,t);l==="all"?i=!0:(l==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const Ie=/([0-9]+)/gm,Jn=(e,t,n)=>xt(k(e.getValue(n)).toLowerCase(),k(t.getValue(n)).toLowerCase()),Wn=(e,t,n)=>xt(k(e.getValue(n)),k(t.getValue(n))),Xn=(e,t,n)=>Ue(k(e.getValue(n)).toLowerCase(),k(t.getValue(n)).toLowerCase()),Zn=(e,t,n)=>Ue(k(e.getValue(n)),k(t.getValue(n))),Qn=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},Yn=(e,t,n)=>Ue(e.getValue(n),t.getValue(n));function Ue(e,t){return e===t?0:e>t?1:-1}function k(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function xt(e,t){const n=e.split(Ie).filter(Boolean),r=t.split(Ie).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),s=parseInt(o,10),l=parseInt(i,10),a=[s,l].sort();if(isNaN(a[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(a[1]))return isNaN(s)?-1:1;if(s>l)return 1;if(l>s)return-1}return n.length-r.length}const X={alphanumeric:Jn,alphanumericCaseSensitive:Wn,text:Xn,textCaseSensitive:Zn,datetime:Qn,basic:Yn},er={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:I("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return X.datetime;if(typeof i=="string"&&(r=!0,i.split(Ie).length>1))return X.alphanumeric}return r?X.text:X.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return de(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:X[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(s=>{const l=s==null?void 0:s.find(p=>p.id===e.id),a=s==null?void 0:s.findIndex(p=>p.id===e.id);let c=[],u,f=i?n:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?l?u="toggle":u="add":s!=null&&s.length&&a!==s.length-1?u="replace":l?u="toggle":u="replace",u==="toggle"&&(i||o||(u="remove")),u==="add"){var h;c=[...s,{id:e.id,desc:f}],c.splice(0,c.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(p=>p.id===e.id?{...p,desc:f}:p):u==="remove"?c=s.filter(p=>p.id!==e.id):c=[{id:e.id,desc:f}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},tr=[yn,zn,Dn,Ln,_n,vn,kn,Bn,er,In,Gn,Un,qn,Kn,jn];function nr(e){var t,n;const r=[...tr,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((h,p)=>Object.assign(h,p.getDefaultOptions==null?void 0:p.getDefaultOptions(o)),{}),s=h=>o.options.mergeOptions?o.options.mergeOptions(i,h):{...i,...h};let a={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(h=>{var p;a=(p=h.getInitialState==null?void 0:h.getInitialState(a))!=null?p:a});const c=[];let u=!1;const f={_features:r,options:{...i,...e},initialState:a,_queue:h=>{c.push(h),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{o.setState(o.initialState)},setOptions:h=>{const p=z(h,o.options);o.options=s(p)},getState:()=>o.options.state,setState:h=>{o.options.onStateChange==null||o.options.onStateChange(h)},_getRowId:(h,p,g)=>{var m;return(m=o.options.getRowId==null?void 0:o.options.getRowId(h,p,g))!=null?m:`${g?[g.id,p].join("."):p}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(h,p)=>{let g=(p?o.getPrePaginationRowModel():o.getRowModel()).rowsById[h];if(!g&&(g=o.getCoreRowModel().rowsById[h],!g))throw new Error;return g},_getDefaultColumnDef:R(()=>[o.options.defaultColumn],h=>{var p;return h=(p=h)!=null?p:{},{header:g=>{const m=g.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:g=>{var m,S;return(m=(S=g.renderValue())==null||S.toString==null?void 0:S.toString())!=null?m:null},...o._features.reduce((g,m)=>Object.assign(g,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...h}},y(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:R(()=>[o._getColumnDefs()],h=>{const p=function(g,m,S){return S===void 0&&(S=0),g.map(C=>{const _=Rn(o,C,S,m),x=C;return _.columns=x.columns?p(x.columns,_,S+1):[],_})};return p(h)},y(e,"debugColumns")),getAllFlatColumns:R(()=>[o.getAllColumns()],h=>h.flatMap(p=>p.getFlatColumns()),y(e,"debugColumns")),_getAllFlatColumnsById:R(()=>[o.getAllFlatColumns()],h=>h.reduce((p,g)=>(p[g.id]=g,p),{}),y(e,"debugColumns")),getAllLeafColumns:R(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(h,p)=>{let g=h.flatMap(m=>m.getLeafColumns());return p(g)},y(e,"debugColumns")),getColumn:h=>o._getAllFlatColumnsById()[h]};Object.assign(o,f);for(let h=0;h<o._features.length;h++){const p=o._features[h];p==null||p.createTable==null||p.createTable(o)}return o}function rr(){return e=>R(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,s){i===void 0&&(i=0);const l=[];for(let c=0;c<o.length;c++){const u=xn(e,e._getRowId(o[c],c,s),o[c],c,i,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,l.push(u),e.options.getSubRows){var a;u.originalSubRows=e.options.getSubRows(o[c],c),(a=u.originalSubRows)!=null&&a.length&&(u.subRows=r(u.originalSubRows,i+1,u))}}return l};return n.rows=r(t),n},y(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ye(e,t){return e?or(e)?$.createElement(e,t):e:null}function or(e){return ir(e)||typeof e=="function"||sr(e)}function ir(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function sr(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function lr(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=$.useState(()=>({current:nr(t)})),[r,o]=$.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:s=>{o(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}async function ar(e,t){const r=await(await fetch(`${Xt}/fieldmappings?page=${e}&page_size=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`}})).json();return console.log(r),r.data}function ur(){var a,c;const[e,t]=$.useState(1),[n,r]=$.useState(5),{data:o}=Wt({queryKey:["users",e,n],queryFn:()=>ar(e,n)}),i=[];if(o)for(let u=1;u<=Math.ceil(((a=o==null?void 0:o.pagination_info)==null?void 0:a.total_records)/n);u++)i.push(u);const s=[{header:"S No",accessorKey:"id",cell:u=>u.row.index+1},{header:"Field Name",accessorKey:"field_name"},{header:"Geographical Area",accessorKey:"field_area"},{header:"Created on",accessorKey:"created_at",cell:u=>{const f=u.cell.getValue();return new Date(f).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}},{header:"Status",accessorKey:"field_status"},{header:"Action",accessorKey:"action",cell:u=>(u.row.original,w.jsx(Jt,{to:"/devices",className:" flex justify-center hover:text-blue-700",title:"View Details",children:w.jsx(Zt,{size:12})}))}],l=lr({data:(o==null?void 0:o.records)??[],columns:s,getCoreRowModel:rr()});return w.jsxs("div",{children:[w.jsxs("table",{className:"min-w-full",children:[w.jsx("thead",{children:l.getHeaderGroups().map(u=>w.jsx("tr",{children:u.headers.map(f=>w.jsx("th",{className:"border p-0.5 bg-gray-100 text-xs text-center",children:Ye(f.column.columnDef.header,f.getContext())},f.id))},u.id))}),w.jsx("tbody",{children:l.getRowModel().rows.map(u=>w.jsx("tr",{children:u.getVisibleCells().map(f=>w.jsx("td",{className:"border p-1 text-center text-xs",style:{backgroundColor:"#ffff"},children:Ye(f.column.columnDef.cell,f.getContext())},f.id))},u.id))})]}),w.jsx("div",{className:"w-full fixed bottom-0 left-0 right-0 rounded shadow-2xl border bg-white border-gray-300 ",children:w.jsxs("div",{className:"flex items-center justify-between p-0.5  text-xs ",children:[w.jsxs("div",{children:[w.jsx("span",{children:"Result per page "}),w.jsxs("select",{className:"border rounded p-0.5",value:n,onChange:u=>{r(Number(u.target.value)),t(1)},children:[w.jsx("option",{value:"5",children:"5 records"}),w.jsx("option",{value:"10",children:"10 records"}),w.jsx("option",{value:"15",children:"15 records"})]})]}),w.jsxs("span",{children:[w.jsx("button",{disabled:e===1,onClick:()=>t(u=>u-1),className:"px-2 py-1  text-xs rounded disabled:opacity-50 cursor-pointer bg-gray-200",children:"Previous"}),i.map(u=>w.jsx("button",{className:`text-xs px-2 m-0.5 py-1 border rounded-2xl cursor-pointer ${e===u?"bg-black text-white":"hover:bg-gray-300"}`,onClick:()=>{t(u)},children:u})),w.jsx("button",{disabled:e===((c=o==null?void 0:o.pagination_info)==null?void 0:c.total_pages),onClick:()=>t(u=>u+1),className:"px-4 py-1 mr-1 text-xs rounded disabled:opacity-50 cursor-pointer bg-gray-200",children:"Next"})]})]})})]})}function _t(e,t){return function(){return e.apply(t,arguments)}}const{toString:cr}=Object.prototype,{getPrototypeOf:qe}=Object,{iterator:ge,toStringTag:vt}=Symbol,fe=(e=>t=>{const n=cr.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),L=e=>(e=e.toLowerCase(),t=>fe(t)===e),pe=e=>t=>typeof t===e,{isArray:K}=Array,Y=pe("undefined");function dr(e){return e!==null&&!Y(e)&&e.constructor!==null&&!Y(e.constructor)&&O(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ft=L("ArrayBuffer");function gr(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ft(e.buffer),t}const fr=pe("string"),O=pe("function"),Et=pe("number"),me=e=>e!==null&&typeof e=="object",pr=e=>e===!0||e===!1,se=e=>{if(fe(e)!=="object")return!1;const t=qe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(vt in e)&&!(ge in e)},mr=L("Date"),hr=L("File"),Sr=L("Blob"),wr=L("FileList"),Cr=e=>me(e)&&O(e.pipe),Rr=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||O(e.append)&&((t=fe(e))==="formdata"||t==="object"&&O(e.toString)&&e.toString()==="[object FormData]"))},yr=L("URLSearchParams"),[xr,_r,vr,Fr]=["ReadableStream","Request","Response","Headers"].map(L),Er=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ee(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),K(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let l;for(r=0;r<s;r++)l=i[r],t.call(null,e[l],l,e)}}function Pt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const B=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,At=e=>!Y(e)&&e!==B;function Te(){const{caseless:e}=At(this)&&this||{},t={},n=(r,o)=>{const i=e&&Pt(t,o)||o;se(t[i])&&se(r)?t[i]=Te(t[i],r):se(r)?t[i]=Te({},r):K(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ee(arguments[r],n);return t}const Pr=(e,t,n,{allOwnKeys:r}={})=>(ee(t,(o,i)=>{n&&O(o)?e[i]=_t(o,n):e[i]=o},{allOwnKeys:r}),e),Ar=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$r=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Mr=(e,t,n,r)=>{let o,i,s;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&qe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Or=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},br=e=>{if(!e)return null;if(K(e))return e;let t=e.length;if(!Et(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Vr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qe(Uint8Array)),Ir=(e,t)=>{const r=(e&&e[ge]).call(e);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Tr=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Dr=L("HTMLFormElement"),Lr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),et=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Nr=L("RegExp"),$t=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ee(n,(o,i)=>{let s;(s=t(o,i,e))!==!1&&(r[i]=s||o)}),Object.defineProperties(e,r)},jr=e=>{$t(e,(t,n)=>{if(O(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(O(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Hr=(e,t)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return K(e)?r(e):r(String(e).split(t)),n},zr=()=>{},kr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Br(e){return!!(e&&O(e.append)&&e[vt]==="FormData"&&e[ge])}const Gr=e=>{const t=new Array(10),n=(r,o)=>{if(me(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=K(r)?[]:{};return ee(r,(s,l)=>{const a=n(s,o+1);!Y(a)&&(i[l]=a)}),t[o]=void 0,i}}return r};return n(e,0)},Ur=L("AsyncFunction"),qr=e=>e&&(me(e)||O(e))&&O(e.then)&&O(e.catch),Mt=((e,t)=>e?setImmediate:t?((n,r)=>(B.addEventListener("message",({source:o,data:i})=>{o===B&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),B.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",O(B.postMessage)),Kr=typeof queueMicrotask<"u"?queueMicrotask.bind(B):typeof process<"u"&&process.nextTick||Mt,Jr=e=>e!=null&&O(e[ge]),d={isArray:K,isArrayBuffer:Ft,isBuffer:dr,isFormData:Rr,isArrayBufferView:gr,isString:fr,isNumber:Et,isBoolean:pr,isObject:me,isPlainObject:se,isReadableStream:xr,isRequest:_r,isResponse:vr,isHeaders:Fr,isUndefined:Y,isDate:mr,isFile:hr,isBlob:Sr,isRegExp:Nr,isFunction:O,isStream:Cr,isURLSearchParams:yr,isTypedArray:Vr,isFileList:wr,forEach:ee,merge:Te,extend:Pr,trim:Er,stripBOM:Ar,inherits:$r,toFlatObject:Mr,kindOf:fe,kindOfTest:L,endsWith:Or,toArray:br,forEachEntry:Ir,matchAll:Tr,isHTMLForm:Dr,hasOwnProperty:et,hasOwnProp:et,reduceDescriptors:$t,freezeMethods:jr,toObjectSet:Hr,toCamelCase:Lr,noop:zr,toFiniteNumber:kr,findKey:Pt,global:B,isContextDefined:At,isSpecCompliantForm:Br,toJSONObject:Gr,isAsyncFn:Ur,isThenable:qr,setImmediate:Mt,asap:Kr,isIterable:Jr};function v(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}d.inherits(v,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const Ot=v.prototype,bt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bt[e]={value:e}});Object.defineProperties(v,bt);Object.defineProperty(Ot,"isAxiosError",{value:!0});v.from=(e,t,n,r,o,i)=>{const s=Object.create(Ot);return d.toFlatObject(e,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),v.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Wr=null;function De(e){return d.isPlainObject(e)||d.isArray(e)}function Vt(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function tt(e,t,n){return e?e.concat(t).map(function(o,i){return o=Vt(o),!n&&i?"["+o+"]":o}).join(n?".":""):t}function Xr(e){return d.isArray(e)&&!e.some(De)}const Zr=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function he(e,t,n){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,S){return!d.isUndefined(S[m])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(o))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(d.isDate(g))return g.toISOString();if(d.isBoolean(g))return g.toString();if(!a&&d.isBlob(g))throw new v("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(g)||d.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,S){let C=g;if(g&&!S&&typeof g=="object"){if(d.endsWith(m,"{}"))m=r?m:m.slice(0,-2),g=JSON.stringify(g);else if(d.isArray(g)&&Xr(g)||(d.isFileList(g)||d.endsWith(m,"[]"))&&(C=d.toArray(g)))return m=Vt(m),C.forEach(function(x,P){!(d.isUndefined(x)||x===null)&&t.append(s===!0?tt([m],P,i):s===null?m:m+"[]",c(x))}),!1}return De(g)?!0:(t.append(tt(S,m,i),c(g)),!1)}const f=[],h=Object.assign(Zr,{defaultVisitor:u,convertValue:c,isVisitable:De});function p(g,m){if(!d.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),d.forEach(g,function(C,_){(!(d.isUndefined(C)||C===null)&&o.call(t,C,d.isString(_)?_.trim():_,m,h))===!0&&p(C,m?m.concat(_):[_])}),f.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return p(e),t}function nt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ke(e,t){this._pairs=[],e&&he(e,this,t)}const It=Ke.prototype;It.append=function(t,n){this._pairs.push([t,n])};It.toString=function(t){const n=t?function(r){return t.call(this,r,nt)}:nt;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Qr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tt(e,t,n){if(!t)return e;const r=n&&n.encode||Qr;d.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(t,n):i=d.isURLSearchParams(t)?t.toString():new Ke(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class rt{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yr=typeof URLSearchParams<"u"?URLSearchParams:Ke,eo=typeof FormData<"u"?FormData:null,to=typeof Blob<"u"?Blob:null,no={isBrowser:!0,classes:{URLSearchParams:Yr,FormData:eo,Blob:to},protocols:["http","https","file","blob","url","data"]},Je=typeof window<"u"&&typeof document<"u",Le=typeof navigator=="object"&&navigator||void 0,ro=Je&&(!Le||["ReactNative","NativeScript","NS"].indexOf(Le.product)<0),oo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",io=Je&&window.location.href||"http://localhost",so=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Je,hasStandardBrowserEnv:ro,hasStandardBrowserWebWorkerEnv:oo,navigator:Le,origin:io},Symbol.toStringTag,{value:"Module"})),M={...so,...no};function lo(e,t){return he(e,new M.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return M.isNode&&d.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function ao(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function uo(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}function Lt(e){function t(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),a=i>=n.length;return s=!s&&d.isArray(o)?o.length:s,a?(d.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!l):((!o[s]||!d.isObject(o[s]))&&(o[s]=[]),t(n,r,o[s],i)&&d.isArray(o[s])&&(o[s]=uo(o[s])),!l)}if(d.isFormData(e)&&d.isFunction(e.entries)){const n={};return d.forEachEntry(e,(r,o)=>{t(ao(r),o,n,0)}),n}return null}function co(e,t,n){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const te={transitional:Dt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=d.isObject(t);if(i&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return o?JSON.stringify(Lt(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lo(t,this.formSerializer).toString();if((l=d.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return he(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),co(t)):t}],transformResponse:[function(t){const n=this.transitional||te.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?v.from(l,v.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{te.headers[e]={}});const go=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fo=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||t[n]&&go[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ot=Symbol("internals");function Z(e){return e&&String(e).trim().toLowerCase()}function le(e){return e===!1||e==null?e:d.isArray(e)?e.map(le):String(e)}function po(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const mo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Pe(e,t,n,r,o){if(d.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!d.isString(t)){if(d.isString(r))return t.indexOf(r)!==-1;if(d.isRegExp(r))return r.test(t)}}function ho(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function So(e,t){const n=d.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,i,s){return this[r].call(this,t,o,i,s)},configurable:!0})})}let b=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function i(l,a,c){const u=Z(a);if(!u)throw new Error("header name must be a non-empty string");const f=d.findKey(o,u);(!f||o[f]===void 0||c===!0||c===void 0&&o[f]!==!1)&&(o[f||a]=le(l))}const s=(l,a)=>d.forEach(l,(c,u)=>i(c,u,a));if(d.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(d.isString(t)&&(t=t.trim())&&!mo(t))s(fo(t),n);else if(d.isObject(t)&&d.isIterable(t)){let l={},a,c;for(const u of t){if(!d.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[c=u[0]]=(a=l[c])?d.isArray(a)?[...a,u[1]]:[a,u[1]]:u[1]}s(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Z(t),t){const r=d.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return po(o);if(d.isFunction(n))return n.call(this,o,r);if(d.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Z(t),t){const r=d.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Pe(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function i(s){if(s=Z(s),s){const l=d.findKey(r,s);l&&(!n||Pe(r,r[l],l,n))&&(delete r[l],o=!0)}}return d.isArray(t)?t.forEach(i):i(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!t||Pe(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const n=this,r={};return d.forEach(this,(o,i)=>{const s=d.findKey(r,i);if(s){n[s]=le(o),delete n[i];return}const l=t?ho(i):String(i).trim();l!==i&&delete n[i],n[l]=le(o),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return d.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&d.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[ot]=this[ot]={accessors:{}}).accessors,o=this.prototype;function i(s){const l=Z(s);r[l]||(So(o,s),r[l]=!0)}return d.isArray(t)?t.forEach(i):i(t),this}};b.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(b.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});d.freezeMethods(b);function Ae(e,t){const n=this||te,r=t||n,o=b.from(r.headers);let i=r.data;return d.forEach(e,function(l){i=l.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function Nt(e){return!!(e&&e.__CANCEL__)}function J(e,t,n){v.call(this,e??"canceled",v.ERR_CANCELED,t,n),this.name="CanceledError"}d.inherits(J,v,{__CANCEL__:!0});function jt(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new v("Request failed with status code "+n.status,[v.ERR_BAD_REQUEST,v.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wo(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Co(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,i=0,s;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=r[i];s||(s=c),n[o]=a,r[o]=c;let f=i,h=0;for(;f!==o;)h+=n[f++],f=f%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),c-s<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function Ro(e,t){let n=0,r=1e3/t,o,i;const s=(c,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?s(c,u):(o=c,i||(i=setTimeout(()=>{i=null,s(o)},r-f)))},()=>o&&s(o)]}const ue=(e,t,n=3)=>{let r=0;const o=Co(50,250);return Ro(i=>{const s=i.loaded,l=i.lengthComputable?i.total:void 0,a=s-r,c=o(a),u=s<=l;r=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:a,rate:c||void 0,estimated:c&&l&&u?(l-s)/c:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},it=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},st=e=>(...t)=>d.asap(()=>e(...t)),yo=M.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,M.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(M.origin),M.navigator&&/(msie|trident)/i.test(M.navigator.userAgent)):()=>!0,xo=M.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];d.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),d.isString(r)&&s.push("path="+r),d.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _o(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vo(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ht(e,t,n){let r=!_o(t);return e&&(r||n==!1)?vo(e,t):t}const lt=e=>e instanceof b?{...e}:e;function U(e,t){t=t||{};const n={};function r(c,u,f,h){return d.isPlainObject(c)&&d.isPlainObject(u)?d.merge.call({caseless:h},c,u):d.isPlainObject(u)?d.merge({},u):d.isArray(u)?u.slice():u}function o(c,u,f,h){if(d.isUndefined(u)){if(!d.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function i(c,u){if(!d.isUndefined(u))return r(void 0,u)}function s(c,u){if(d.isUndefined(u)){if(!d.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const a={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u,f)=>o(lt(c),lt(u),f,!0)};return d.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=a[u]||o,h=f(e[u],t[u],u);d.isUndefined(h)&&f!==l||(n[u]=h)}),n}const zt=e=>{const t=U({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:l}=t;t.headers=s=b.from(s),t.url=Tt(Ht(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let a;if(d.isFormData(n)){if(M.hasStandardBrowserEnv||M.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((a=s.getContentType())!==!1){const[c,...u]=a?a.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(M.hasStandardBrowserEnv&&(r&&d.isFunction(r)&&(r=r(t)),r||r!==!1&&yo(t.url))){const c=o&&i&&xo.read(i);c&&s.set(o,c)}return t},Fo=typeof XMLHttpRequest<"u",Eo=Fo&&function(e){return new Promise(function(n,r){const o=zt(e);let i=o.data;const s=b.from(o.headers).normalize();let{responseType:l,onUploadProgress:a,onDownloadProgress:c}=o,u,f,h,p,g;function m(){p&&p(),g&&g(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function C(){if(!S)return;const x=b.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:x,config:e,request:S};jt(function(T){n(T),m()},function(T){r(T),m()},F),S=null}"onloadend"in S?S.onloadend=C:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(C)},S.onabort=function(){S&&(r(new v("Request aborted",v.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new v("Network Error",v.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let P=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const F=o.transitional||Dt;o.timeoutErrorMessage&&(P=o.timeoutErrorMessage),r(new v(P,F.clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,e,S)),S=null},i===void 0&&s.setContentType(null),"setRequestHeader"in S&&d.forEach(s.toJSON(),function(P,F){S.setRequestHeader(F,P)}),d.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),l&&l!=="json"&&(S.responseType=o.responseType),c&&([h,g]=ue(c,!0),S.addEventListener("progress",h)),a&&S.upload&&([f,p]=ue(a),S.upload.addEventListener("progress",f),S.upload.addEventListener("loadend",p)),(o.cancelToken||o.signal)&&(u=x=>{S&&(r(!x||x.type?new J(null,e,S):x),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const _=wo(o.url);if(_&&M.protocols.indexOf(_)===-1){r(new v("Unsupported protocol "+_+":",v.ERR_BAD_REQUEST,e));return}S.send(i||null)})},Po=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const i=function(c){if(!o){o=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof v?u:new J(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,i(new v(`timeout ${t} of ms exceeded`,v.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=()=>d.asap(l),a}},Ao=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},$o=async function*(e,t){for await(const n of Mo(e))yield*Ao(n,t)},Mo=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},at=(e,t,n,r)=>{const o=$o(e,t);let i=0,s,l=a=>{s||(s=!0,r&&r(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await o.next();if(c){l(),a.close();return}let f=u.byteLength;if(n){let h=i+=f;n(h)}a.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(a){return l(a),o.return()}},{highWaterMark:2})},Se=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kt=Se&&typeof ReadableStream=="function",Oo=Se&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Bt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bo=kt&&Bt(()=>{let e=!1;const t=new Request(M.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ut=64*1024,Ne=kt&&Bt(()=>d.isReadableStream(new Response("").body)),ce={stream:Ne&&(e=>e.body)};Se&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ce[t]&&(ce[t]=d.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new v(`Response type '${t}' is not supported`,v.ERR_NOT_SUPPORT,r)})})})(new Response);const Vo=async e=>{if(e==null)return 0;if(d.isBlob(e))return e.size;if(d.isSpecCompliantForm(e))return(await new Request(M.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(d.isArrayBufferView(e)||d.isArrayBuffer(e))return e.byteLength;if(d.isURLSearchParams(e)&&(e=e+""),d.isString(e))return(await Oo(e)).byteLength},Io=async(e,t)=>{const n=d.toFiniteNumber(e.getContentLength());return n??Vo(t)},To=Se&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:l,onUploadProgress:a,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=zt(e);c=c?(c+"").toLowerCase():"text";let p=Po([o,i&&i.toAbortSignal()],s),g;const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let S;try{if(a&&bo&&n!=="get"&&n!=="head"&&(S=await Io(u,r))!==0){let F=new Request(t,{method:"POST",body:r,duplex:"half"}),V;if(d.isFormData(r)&&(V=F.headers.get("content-type"))&&u.setContentType(V),F.body){const[T,j]=it(S,ue(st(a)));r=at(F.body,ut,T,j)}}d.isString(f)||(f=f?"include":"omit");const C="credentials"in Request.prototype;g=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:C?f:void 0});let _=await fetch(g,h);const x=Ne&&(c==="stream"||c==="response");if(Ne&&(l||x&&m)){const F={};["status","statusText","headers"].forEach(q=>{F[q]=_[q]});const V=d.toFiniteNumber(_.headers.get("content-length")),[T,j]=l&&it(V,ue(st(l),!0))||[];_=new Response(at(_.body,ut,T,()=>{j&&j(),m&&m()}),F)}c=c||"text";let P=await ce[d.findKey(ce,c)||"text"](_,e);return!x&&m&&m(),await new Promise((F,V)=>{jt(F,V,{data:P,headers:b.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:g})})}catch(C){throw m&&m(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new v("Network Error",v.ERR_NETWORK,e,g),{cause:C.cause||C}):v.from(C,C&&C.code,e,g)}}),je={http:Wr,xhr:Eo,fetch:To};d.forEach(je,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ct=e=>`- ${e}`,Do=e=>d.isFunction(e)||e===null||e===!1,Gt={getAdapter:e=>{e=d.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!Do(n)&&(r=je[(s=String(n)).toLowerCase()],r===void 0))throw new v(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(ct).join(`
`):" "+ct(i[0]):"as no adapter specified";throw new v("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:je};function $e(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new J(null,e)}function dt(e){return $e(e),e.headers=b.from(e.headers),e.data=Ae.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gt.getAdapter(e.adapter||te.adapter)(e).then(function(r){return $e(e),r.data=Ae.call(e,e.transformResponse,r),r.headers=b.from(r.headers),r},function(r){return Nt(r)||($e(e),r&&r.response&&(r.response.data=Ae.call(e,e.transformResponse,r.response),r.response.headers=b.from(r.response.headers))),Promise.reject(r)})}const Ut="1.10.0",we={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{we[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const gt={};we.transitional=function(t,n,r){function o(i,s){return"[Axios v"+Ut+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,l)=>{if(t===!1)throw new v(o(s," has been removed"+(n?" in "+n:"")),v.ERR_DEPRECATED);return n&&!gt[s]&&(gt[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,l):!0}};we.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Lo(e,t,n){if(typeof e!="object")throw new v("options must be an object",v.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const l=e[i],a=l===void 0||s(l,i,e);if(a!==!0)throw new v("option "+i+" must be "+a,v.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new v("Unknown option "+i,v.ERR_BAD_OPTION)}}const ae={assertOptions:Lo,validators:we},N=ae.validators;let G=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rt,response:new rt}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=U(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&ae.assertOptions(r,{silentJSONParsing:N.transitional(N.boolean),forcedJSONParsing:N.transitional(N.boolean),clarifyTimeoutError:N.transitional(N.boolean)},!1),o!=null&&(d.isFunction(o)?n.paramsSerializer={serialize:o}:ae.assertOptions(o,{encode:N.function,serialize:N.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ae.assertOptions(n,{baseUrl:N.spelling("baseURL"),withXsrfToken:N.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&d.merge(i.common,i[n.method]);i&&d.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=b.concat(s,i);const l=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(a=a&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,f=0,h;if(!a){const g=[dt.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);f<h;)u=u.then(g[f++],g[f++]);return u}h=l.length;let p=n;for(f=0;f<h;){const g=l[f++],m=l[f++];try{p=g(p)}catch(S){m.call(this,S);break}}try{u=dt.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=U(this.defaults,t);const n=Ht(t.baseURL,t.url,t.allowAbsoluteUrls);return Tt(n,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){G.prototype[t]=function(n,r){return this.request(U(r||{},{method:t,url:n,data:(r||{}).data}))}});d.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,l){return this.request(U(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}G.prototype[t]=n(),G.prototype[t+"Form"]=n(!0)});let No=class qt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(l=>{r.subscribe(l),i=l}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,l){r.reason||(r.reason=new J(i,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new qt(function(o){t=o}),cancel:t}}};function jo(e){return function(n){return e.apply(null,n)}}function Ho(e){return d.isObject(e)&&e.isAxiosError===!0}const He={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(He).forEach(([e,t])=>{He[t]=e});function Kt(e){const t=new G(e),n=_t(G.prototype.request,t);return d.extend(n,G.prototype,t,{allOwnKeys:!0}),d.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Kt(U(e,o))},n}const E=Kt(te);E.Axios=G;E.CanceledError=J;E.CancelToken=No;E.isCancel=Nt;E.VERSION=Ut;E.toFormData=he;E.AxiosError=v;E.Cancel=E.CanceledError;E.all=function(t){return Promise.all(t)};E.spread=jo;E.isAxiosError=Ho;E.mergeConfig=U;E.AxiosHeaders=b;E.formToJSON=e=>Lt(d.isHTMLForm(e)?new FormData(e):e);E.getAdapter=Gt.getAdapter;E.HttpStatusCode=He;E.default=E;const{Axios:Qo,AxiosError:Yo,CanceledError:ei,isCancel:ti,CancelToken:ni,VERSION:ri,all:oi,Cancel:ii,isAxiosError:si,spread:li,toFormData:ai,AxiosHeaders:ui,HttpStatusCode:ci,formToJSON:di,getAdapter:gi,mergeConfig:fi}=E,zo=({setFormCoordinates:e,setFieldAccessPoint:t,setRobotHome:n,mode:r,setMode:o,setLocationInfo:i})=>{const[s,l]=$.useState([]),[a,c]=$.useState(),[u,f]=$.useState(),h=async(m,S)=>{try{return(await E.get(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${m}&lon=${S}`)).data.display_name}catch(C){return console.error("Reverse geocode error:",C),null}},p=async m=>{const{layerType:S,layer:C}=m;if(console.log("layerType:",S),S==="polygon"||S==="rectangle"){const x=C.getLatLngs()[0].map(W=>({lat:W.lat,lng:W.lng}));e(x),l(x),console.log(x);const P=[...x,x[0]],F=an([P.map(W=>[W.lng,W.lat])]),T=un(F)/4046.86,j=cn(F),[q,Ce]=j.geometry.coordinates,ne=await h(Ce,q);i({location:ne,area:T.toFixed(2)}),console.log(x)}},g=()=>(mn({click(m){const{lat:S,lng:C}=m.latlng;if(r==="field_access_point"){const _={lat:S,lng:C};c(_),t(_),o("idle")}else if(r==="robot_home"){const _={lat:S,lng:C};f(_),n(_),o("idle")}}}),null);return w.jsx("div",{className:"w-full h-screen",children:w.jsxs(nn,{center:[17.385,78.4867],zoom:13,style:{height:"100%",width:"100%"},children:[w.jsx(rn,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),w.jsx(g,{}),w.jsxs(on,{children:[w.jsx(sn,{position:"topleft",onCreated:p,onDeleted:()=>{l([]),e([]),c(void 0),f(void 0),t(null),n(null),i(null)},draw:{rectangle:!0,circle:!1,circlemarker:!1,polygon:!0,marker:!1,polyline:!1}}),s.length>0&&w.jsx(ln,{positions:s,pathOptions:{color:"white",weight:1,fillColor:"rgba(144, 222, 144, 0.5)",fillOpacity:.5}}),s.map((m,S)=>w.jsx(hn,{center:[m.lat,m.lng],radius:4,pathOptions:{color:"green",fillColor:"green",fillOpacity:1}},S))]}),a&&w.jsx(We,{position:[a.lat,a.lng],children:w.jsx(Xe,{children:"Field Access Point"})}),u&&w.jsx(We,{position:[u.lat,u.lng],children:w.jsx(Xe,{children:"Robot Home"})})]})})};function ko({setField:e}){const[t,n]=$.useState([]),[r,o]=$.useState(null),[i,s]=$.useState(null),[l,a]=$.useState("idle"),[c,u]=$.useState(null);return w.jsxs("div",{className:"relative w-full h-screen",children:[w.jsx("div",{className:"absolute inset-0 z-0 w-full h-screen",children:w.jsx(zo,{setFormCoordinates:n,setFieldAccessPoint:o,setRobotHome:s,mode:l,setMode:a,setLocationInfo:u})}),w.jsx("div",{className:"absolute z-10 top-0 right-0 bg-white shadow-2xl rounded-2xl",children:w.jsx(Bo,{setField:e,formCoordinates:t,fieldAccessPoint:r,robotHome:i,setMode:a,locationInfo:c})})]})}function Bo({setField:e,formCoordinates:t,fieldAccessPoint:n,robotHome:r,setMode:o,locationInfo:i}){const s=dn({defaultValues:{field_name:""},onSubmit:async({value:l})=>{const a={field_name:l.field_name,field_boundary:t,location:(i==null?void 0:i.location)||"",field_area:(i==null?void 0:i.area)||"",field_access_point:n,robot_home:r};await fetch("https://demetercloud.onrender.com/v1.0/fieldmapping",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify(a)}),console.log(a)}});return w.jsxs("form",{onSubmit:l=>{s.handleSubmit(l),l.preventDefault(),l.stopPropagation()},className:"h-125 w-78",children:[w.jsxs("div",{className:"flex flex-col p-2 gap-2",children:[w.jsx("h1",{className:"text-sm font-semibold text-center mb-4",children:"Register Field"}),w.jsxs("div",{children:[w.jsx("label",{className:"text-[10px]",children:"Field Name"})," ",w.jsx("br",{}),w.jsx(s.Field,{name:"field_name",children:l=>w.jsx("input",{value:l.state.value,onChange:a=>l.handleChange(a.target.value),className:" bg-gray-100 rounded w-74 p-1.5 text-xs",required:!0})})]}),w.jsxs("div",{className:"flex justify-between text-[12px] mt-3 font-semibold",children:[w.jsx("span",{children:"Geographical Area"}),w.jsxs("span",{className:"rounded pl-2 pr-2 text-xs text-red-400 bg-red-200",children:[(i==null?void 0:i.area)||0,w.jsx("span",{className:"text-black",children:" Hectars"})]})]})," ",w.jsx("br",{}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"text-[10px]",children:"Field Access point"}),w.jsx("br",{}),w.jsx("button",{type:"button",style:{cursor:"pointer"},className:"rounded px-2 pt-1 pb-1 text-xs bg-green-200",onClick:()=>{o("field_access_point"),gn.info("Click on the map to place Field Access Point",{position:"top-right",autoClose:2e3,style:{fontSize:"12px",color:"#065f46",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}})},children:"+ Add"})]}),w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"text-[10px]",children:"Robot Home"}),w.jsx("br",{}),w.jsx("button",{type:"button",style:{cursor:"pointer"},className:"rounded px-2 pt-1 pb-1 text-xs bg-green-200",onClick:()=>{o("robot_home")},children:"+ Add"})]})]}),w.jsxs("div",{className:"flex gap-2 float-right",children:[w.jsx("button",{type:"button",onClick:()=>e(!1),className:"border-1 mt-35 rounded pl-2 pr-2 text-sm cursor-pointer ",children:"Cancel"}),w.jsx("button",{type:"submit",className:"rounded mt-35 mr-2 pl-3 pr-3 text-sm bg-green-400 cursor-pointer",children:"Save"})]})]})}const pi=function(){const[t,n]=$.useState(!1);return w.jsx(w.Fragment,{children:t?w.jsx(ko,{setField:n}):w.jsxs("div",{children:[w.jsx("div",{className:"bg-gray-200 rounded p-1 mb-2 h-8 w-full",children:w.jsx("button",{type:"button",className:"rounded px-1 mt-0.5 py-0.5 text-[10px] bg-[#0ed78d] text-center text-white cursor-pointer float-right",onClick:()=>n(!0),children:" + New Field"})}),w.jsx(ur,{})]})})};export{pi as component};
